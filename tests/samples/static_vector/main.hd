import std.io as io
import std.string

class Vector:
    size  : int
    elems : int[255]

    def init : void
        size = 0

    def add : void
        @n : int

        if size < 255:
            elems[size] = n
            ++size

    def at : int
        @idx : int

        return elems[idx]

    def print2 : void
        io::print('{')

        i = 0
        if size > 0:
            for i = 0; i < size - 1; ++i:
                io::print("{elems[i]}, ")
            io::print("{elems[i]}")

        io::print('}')

    def print : void
        io::print('{')

        i = 0
        if size > 0:
            for i = 0; i < size - 1; ++i:
                io::print(elems[i])
                io::print(", ")

            io::print(elems[i])
        io::print('}')


    def println : void
        print()
        io::print('\n')

    def pop : void
        size = size - 1

    def add_front : void
        @n : int

        if size < 254:
            for i = size; i > 0; i = i - 1:
                elems[i] = elems[i - 1]

        elems[0] = n
        ++size

    def replace : void
        @idx : int
        @n   : int

        elems[idx] = n

def main : void
    v = Vector()

    v.add(2)
    v.add(3)
    v.add(7)
    v.println()
    v.pop()
    v.println()

    for i = 0; i < 10; ++i:
        v.add(i)

    v.add_front(77)
    v.println()
    v.replace(0, 100)
    v.println()
